<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Immersive Webview2 Application</title>
    <style>
        .window-icon { color: #888; width: 46px; height: 36px; display: flex; justify-content: center; align-items: center; background: rgba(0,0,0,0); }
        .window-icon:hover { color: #fff; background: rgba(255,255,255,0.15); }
        .window-icon-close:hover { background: #ff0030; }
    </style>
</head>
<body>
<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #333; overflow: hidden;">
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 36px; box-sizing: border-box;">
        <div style="display: flex;">
            <div style="height: 36px; line-height: 36px; flex-shrink: 0; box-sizing: border-box; padding: 0 10px; color: #eee; font-weight: bold; user-select: none;">
                Studio
            </div>
            <div style="width: 100%; background: #9599e233; app-region: drag;">
                
            </div>
            <div style="flex-shrink: 0; display: flex;">
                <div id="window-minimize-button" class="window-icon hover-window-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 2" width="24" height="2"
                         stroke="currentColor"
                         shape-rendering="crispEdges">
                        <path d="M7,0.5L17,0.5z" stroke-width=".5"/>
                    </svg>
                </div>
                <div id="window-maximize-button" class="window-icon hover-window-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 25" width="13" height="25"
                         stroke="currentColor"
                         fill="none" shape-rendering="crispEdges">
                        <path d="M2,8L11,8L11,16.5L2,16.5z" stroke-width=".5"/>
                    </svg>
                </div>
                <div id="window-restore-button" class="window-icon hover-window-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" width="12" height="12"
                         stroke="currentColor"
                         fill="none" shape-rendering="crispEdges">
                        <path d="M1,4L8,4L8,10L1,10zM4,4L4,1L10,1L10,8L8,8L8,4z" stroke-width=".5"/>
                    </svg>
                </div>
                <div id="window-close-button" class="window-icon window-icon-close hover-window-icon-close">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10" width="10" height="10"
                         stroke="currentColor"
                         fill="none" shape-rendering="crispEdges">
                        <path d="M-0.25,-0.25L9.75,9.75M9.75,-0.25L-0.25,9.75" stroke-width="0.5"/>
                    </svg>
                </div>
            </div>

        </div>
    </div>

    <div id="main" style="position: absolute; top: 36px; left: 0; right: 0; bottom: 0; overflow: auto;">

    </div>
</div>
<script type="text/javascript">
    function main() {
        const buttonClose = document.getElementById("window-close-button");
        buttonClose.addEventListener("click", () => window.webview2.api.close())
        const buttonMaximize = document.getElementById("window-maximize-button");
        buttonMaximize.addEventListener("click", () => window.webview2.api.maximize())
        const buttonRestore = document.getElementById("window-restore-button");
        buttonRestore.addEventListener("click", () => window.webview2.api.restore())
        buttonRestore.style.display = "none"
        const buttonMinimize = document.getElementById("window-minimize-button");
        buttonMinimize.addEventListener("click", () => window.webview2.api.minimize())
        window.addEventListener('NativeWindowResize', e => {
            const windowState = e.detail["WindowState"]
            if (windowState === "MINIMIZED") {
            } else if (windowState === "MAXIMIZED") {
                buttonRestore.style.display = "flex"
                buttonMaximize.style.display = "none"
            } else if (windowState === "NORMAL") {
                buttonRestore.style.display = "none"
                buttonMaximize.style.display = "flex"
            }
        })

    }
    main()
</script>
</body>
</html>